<!DOCTYPE html>
<html>
  <head>
    <title>XPAD_PLUS READER MODES</title>
    <link rel="stylesheet" type="text/css" href="/style.css" />
  </head>

  <body>
    <div class="container0">
      <div class="container1">
        <div class="container2">
          <label style="position: relative; top: 20px" class="SMTX"
            >XPAD_PLUS</label
          >
        </div>
        <div class="container2">
          <button onclick="window.location.href='/'">HOME</button>
        </div>
      </div>

      <div id="table_div" class="container1">
        <table id="config_table">
          <thead>
            <tr>
              <th><h1>MODE</h1></th>
              <th><h1>VALUE</h1></th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
                <label>START READING:</label>
              </td>
              <td>
                <button
                  id="start_reading_button"
                  onclick="fetch('/start_reading')"
                ></button>
              </td>
            </tr>

            <tr>
              <td>
                <label>GPI START:</label>
              </td>
              <td>
                <button
                  id="gpi_start_button"
                  onclick="fetch('/gpi_start')"
                ></button>
              </td>
            </tr>

            <tr>
              <td>
                <label>IGNORE READ:</label>
              </td>
            </tr>

            <tr>
              <td>
                <label>ALWAYS SEND:</label>
              </td>
              <td>
                <button
                  id="always_send_button"
                  onclick="fetch('/always_send')"
                ></button>
              </td>
            </tr>

            <tr>
              <td>
                <label>SIMPLE SEND:</label>
              </td>
              <td>
                <button
                  id="simple_send_button"
                  onclick="fetch('/simple_send')"
                ></button>
              </td>
            </tr>

            <tr>
              <td>
                <label>KEYBOARD:</label>
              </td>
              <td>
                <button
                  id="keyboard_button"
                  onclick="fetch('/keyboard')"
                ></button>
              </td>
            </tr>

            <tr>
              <td>
                <label>BUZZER:</label>
              </td>
              <td>
                <button id="buzzer_button" onclick="fetch('/buzzer')"></button>
              </td>
            </tr>

            <tr>
              <td>
                <label>GTIN:</label>
              </td>
              <td>
                <button id="gtin_button" onclick="fetch('/gtin')"></button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="container1">
        <button onclick="window.location.href='/reader'">READER</button>
      </div>
    </div>
  </body>

  <script>
    function update_html() {
      update_elements();
    }
    setInterval(update_html, 1000);

    function update_elements() {
      fetch("/modes_att")
        .then((response) => response.json())
        .then((data) => {
          document.getElementById("gpi_start_button").innerText =
            data.gpi_start_label;
          document.getElementById("gpi_start_button").style.backgroundColor =
            data.gpi_start_color;

          document.getElementById("start_reading_button").innerText =
            data.start_reading_label;
          document.getElementById(
            "start_reading_button"
          ).style.backgroundColor = data.start_reading_color;

          document.getElementById("always_send_button").innerText =
            data.always_send_label;
          document.getElementById("always_send_button").style.backgroundColor =
            data.always_send_color;

          document.getElementById("simple_send_button").innerText =
            data.simple_send_label;
          document.getElementById("simple_send_button").style.backgroundColor =
            data.simple_send_color;

          document.getElementById("keyboard_button").innerText =
            data.keyboard_label;
          document.getElementById("keyboard_button").style.backgroundColor =
            data.keyboard_color;

          document.getElementById("buzzer_button").innerText =
            data.buzzer_label;
          document.getElementById("buzzer_button").style.backgroundColor =
            data.buzzer_color;

          document.getElementById("gtin_button").innerText = data.gtin_label;
          document.getElementById("gtin_button").style.backgroundColor =
            data.gtin_color;
        })
        .catch((error) => console.error("Erro:", error));
    }
  </script>
</html>
